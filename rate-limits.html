<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">
  <title>Qx Lab AI</title>
  <link rel="stylesheet" href="./style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
</head>

  <body data-spy="scroll" data-target="#scrollspy" data-offset="100">
    <nav class="navbar navbar-expand-lg custom-sticky-bar">
      <div class="container-fluid" style="padding: 0 24px;">
        <div class="header-logo">
          <a href="overView.html">QX LAB AI</a>
        </div>
        <button class="navbar-toggler ps-0 pe-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-md-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active custom-res-text" aria-current="page" href="overView.html">Overview</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="documentation.html">Documentation</a>
              <div class="accordion res-header-bar-list" id="accordionExample">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      Documentation
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="documentation.html">
                        Introduction
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="quick-start.html">
                        Quickstart
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="libraries.html">
                        Libraries
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="models.html">
                        Models
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="deprecations.html">
                        Deprecations
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="tutorials.html">
                        Tutorials
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="policies.html">
                        Policies
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      Guides
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="GPT-Models.html">
                        GPT
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="gpt-best-practices.html">
                        GPT best practices
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="image-generation.html">
                        Image generation
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="fine-tuning.html">
                        Fine-tuning
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="embeddings.html">
                        Embeddings
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="speech-to-text.html">
                        Speech to text
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="moderation.html">
                        moderation
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="rate-limits.html">
                        rate-limits
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="error-codes.html">
                        Error codes
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="safety-best-practices.html">
                        Safety best practices
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="production-best-practices.html">
                        Production best practices
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      Plugins
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="plugins-introduction.html">
                        Introduction
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="plugins-getting-started.html">
                        Getting started
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-authentication.html">
                        Authentication
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-examples.html">
                        Examples
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-production.html">
                        Production
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-review.html">
                        Plugin review
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a href="api-reference.html" class="accordion-button collapsed pt-1 pb-1">
                      API reference
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a href="examples.html" class="accordion-button collapsed pt-1 pb-1">
                      Examples
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a class="accordion-button collapsed pt-1 pb-1">
                      Log in
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a class="accordion-button collapsed pt-1 pb-1">
                      Sign up
                    </a>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="api-reference.html">API reference</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="examples.html">Examples</a>
            </li>
          </ul>
          <div class="res-flex">
            <button type="button" class="btn d-res-none">Log in</button>
            <button type="button" class="btn logInbtn d-res-none">Sign up</button>
          </div>
        </div>
      </div>
    </nav>
    <div class="d-flex ">
      <div class="left-content-scroll">
        <div id="list-example" class="list-group border-radius-0">          
          <div id="scrollspy">
            <div class="sidebarPadding sidebarMainText">
              GET STARTED
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="documentation.html">
                <img src="./images/intro.svg" class="sidebarIcon"/>Introduction
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="quick-start.html">
                <img src="./images/quickStarted.svg" class="sidebarIcon"/>Quickstart
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="libraries.html">
                <img src="./images/Libraries.svg" class="sidebarIcon"/>Libraries
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="models.html">
                <img src="./images/Models.svg" class="sidebarIcon"/>Models
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="deprecations.html">
              <img src="./images/Deprecations.svg" class="sidebarIcon"/>Deprecations
            </a>
            <a class="sidebarListText sidebarSubListText" href="tutorials.html">
              <img src="./images/Tutorials.svg" class="sidebarIcon"/>Tutorials
            </a>
            <a class="sidebarListText sidebarSubListText" href="policies.html">
              <img src="./images/Policies.svg" class="sidebarIcon"/>Policies
            </a>
          </div>
          <div class="sectionTopSection">
            <div class="sidebarPadding sidebarMainText">
              Guides
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="GPT-Models.html">
                <img src="./images/Gpt.svg" class="sidebarIcon"/>GPT
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="gpt-best-practices.html">
              <img src="./images/gptBestPractice.svg" class="sidebarIcon"/>GPT best practices
            </a>
            <div>
              <a class="sidebarListText sidebarSubListText" href="image-generation.html">
                <img src="./images/imagegeneration.svg" class="sidebarIcon"/>Image generation
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="fine-tuning.html">
                <img src="./images/fineTuning.svg" class="sidebarIcon"/>Fine-tuning
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="embeddings.html">
                <img src="./images/embedding.svg" class="sidebarIcon"/>Embeddings
              </a>              
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="speech-to-text.html">
                <img src="./images/speechtotext.svg" class="sidebarIcon"/>Speech to text
              </a>          
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="moderation.html">
                <img src="./images/moderation.svg" class="sidebarIcon"/>Moderation
              </a>
            </div>
            <div>
              <a class="sidebarListText list-group-item active" href="rate-limits.html">
                <img src="./images/ratelimit.svg" class="sidebarIcon"/>Rate Limits
              </a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-1">
                Overview</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-2">
              Error mitigation</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-3">
              Rate limit increase</a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="error-codes.html">
              <img src="./images/errorcode.svg" class="sidebarIcon"/>Error codes
            </a>
            <a class="sidebarListText sidebarSubListText" href="safety-best-practices.html">
              <img src="./images/Safety-best-practices.svg" class="sidebarIcon"/>Safety best practices
            </a>
            <a class="sidebarListText sidebarSubListText" href="production-best-practices.html">
              <img src="./images/Productionbest-practices.svg" class="sidebarIcon"/>Production best practices
            </a>
          </div>
          <div class="sectionTopSection">
            <div class="sidebarPadding sidebarMainText">
              Chat plugins
            </div>
            <a class="sidebarListText sidebarSubListText" href="plugins-introduction.html">
              <img src="./images/intro.svg" class="sidebarIcon"/>Introduction
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-getting-started.html">
              <img src="./images/gettingStarted.svg" class="sidebarIcon"/>Getting started
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-authentication.html">
              <img src="./images/Plugin-authentication.svg" class="sidebarIcon"/>Authentication
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-examples.html">
              <img src="./images/example.svg" class="sidebarIcon"/>Examples
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-production.html">
              <img src="./images/production.svg" class="sidebarIcon"/>Production
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-review.html">
              <img src="./images/plugin_review.svg" class="sidebarIcon"/>Plugin review
            </a>
            <div class="sidebarListText">
              <img src="./images/Plugin_policies.svg" class="sidebarIcon"/>Plugin policies
            </div>
          </div>
        </div>
      </div>
      <div class="right-content-scroll custom-right-content">
        <div class="custom-right-content-width">
          <div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-smooth-scroll="true"
            class="scrollspy-example pt-4" tabindex="0">
            <div class="markdown-page markdown-content"><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/rate-limits"><h1 class="anchor-heading" name="rate-limits">Rate limits</h1></a></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/overview">
              <div id="list-item-1"></div>
              <h2 class="anchor-heading" name="overview">Overview</h2></a></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/what-are-rate-limits"><h3 class="anchor-heading" name="what-are-rate-limits">What are rate limits?</h3></a></div><p>A rate limit is a restriction that an API imposes on the number of times a user or client can access the server within a specified period of time.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/why-do-we-have-rate-limits"><h3 class="anchor-heading" name="why-do-we-have-rate-limits">Why do we have rate limits?</h3></a></div><p>Rate limits are a common practice for APIs, and they're put in place for a few different reasons:</p><ul><li><strong>They help protect against abuse or misuse of the API.</strong> For example, a malicious actor could flood the API with requests in an attempt to overload it or cause disruptions in service. By setting rate limits, QX LabAI can prevent this kind of activity.</li><li><strong>Rate limits help ensure that everyone has fair access to the API.</strong> If one person or organization makes an excessive number of requests, it could bog down the API for everyone else. By throttling the number of requests that a single user can make, QX LabAI ensures that the most number of people have an opportunity to use the API without experiencing slowdowns.</li><li><strong>Rate limits can help QX LabAI manage the aggregate load on its infrastructure.</strong> If requests to the API increase dramatically, it could tax the servers and cause performance issues. By setting rate limits, QX LabAI can help maintain a smooth and consistent experience for all users.</li></ul><div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-neutral"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 312h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg></div><div class="notice-message"><div class="notice-body">Please work through this document in its entirety to better understand how QX LabAI’s rate limit system works. We include code examples and possible solutions to handle common issues. It is recommended to follow this guidance before filling out the <a href="https://docs.google.com/forms/d/e/1FAIpQLSc6gSL3zfHFlL6gNIyUcjkEv29jModHGxg5_XGyr-PrE2LaHw/viewform" target="_blank" rel="noopener noreferrer">Rate Limit Increase Request form</a> with details regarding how to fill it out in the last section.</div></div></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/what-are-the-rate-limits-for-our-api"><h3 class="anchor-heading" name="what-are-the-rate-limits-for-our-api">What are the rate limits for our API?</h3></a></div><p>You can view the rate limits for your organization under the <a href="/account/rate-limits">rate limits</a> section of the account management page.</p><p>We enforce rate limits at the <a href="/docs/guides/production-best-practices">organization level</a>, not user level, based on the specific endpoint used as well as the type of account you have. Rate limits are measured in three ways: <strong>RPM</strong> (requests per minute), <strong>RPD</strong> (requests per day), and <strong>TPM</strong> (tokens per minute). The table below highlights the default rate limits for our API.</p><div><div class="content-switcher"><div id="" class="switch-field switch-orientation-horizontal switch-theme-default"><input type="radio" id="-radio-FreeTrial" name="-switch" value="FreeTrial" checked=""><label for="-radio-FreeTrial">Free users</label><input type="radio" id="-radio-Pay-as-you-go-48hrs" name="-switch" value="Pay-as-you-go-48hrs"><label for="-radio-Pay-as-you-go-48hrs">Paid users (first 48 hours)</label><input type="radio" id="-radio-Standard-pay-as-you-go users" name="-switch" value="Standard-pay-as-you-go users"><label for="-radio-Standard-pay-as-you-go users">Paid users (after 48 hours)</label></div></div><div class="custom-table"><table><thead><tr><th></th><th>Requests per day (RPD)</th><th>Requests per minute (RPM)</th><th>Tokens per minutes (TPM)</th></tr></thead><tbody><tr><td>Text &amp; Embedding</td><td>200 RPD</td><td>3 RPM</td><td>150,000 TPM</td></tr><tr><td>Chat</td><td>200 RPD</td><td>3 RPM</td><td>40,000 TPM</td></tr><tr><td>Image</td><td>200 RPD</td><td>5 images / min</td><td>---</td></tr><tr><td>Audio</td><td>200 RPD</td><td>3 RPM</td><td>---</td></tr><tr><td>Fine-tuning</td><td>---</td><td>---</td><td>---</td></tr><tr><td>Edit (Deprecated)</td><td>200 RPD</td><td>3 RPM</td><td>150,000 TPM</td></tr></tbody></table></div><p>For free trial users in the first 48 hour, we have added per day rate limits. The
normal RPM and TPM limits apply but there is also a separate limits on the number of
requests per day for each endpoint.</p><p>Free trial users also do not have access to fine-tune models at this time.</p></div><p>It is important to note that the rate limit can be hit by either option depending on what occurs first. For example, you might send 20 requests with only 100 tokens to the Edit endpoint and that would fill your limit, even if you did not send 150k tokens within those 20 requests.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/gpt-4-rate-limits"><h4 class="anchor-heading" name="gpt-4-rate-limits">GPT-4 rate limits</h4></a></div><p>During the <a href="http://qxlabai.com/blog/gpt-4-api-general-availability" target="_blank" rel="noopener noreferrer">rollout of GPT-4</a>, the model will have more aggressive rate limits to keep up with demand. You can <a href="/account/rate-limits">view your current rate limits</a> in the rate limits section of the account page.
We are unable to accommodate requests for rate limit increases due to capacity constraints. We are prioritizing general access to GPT-4 first and will subsequently raise rate limits automatically as capacity allows.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/how-do-rate-limits-work"><h3 class="anchor-heading" name="how-do-rate-limits-work">How do rate limits work?</h3></a></div><p>If your rate limit is 60 requests per minute and 150k tokens per minute, you’ll be limited either by reaching the requests/min cap or running out of tokens—whichever happens first. For example, if your max requests/min is 60, you should be able to send 1 request per second. If you send 1 request every 800ms, once you hit your rate limit, you’d only need to make your program sleep 200ms in order to send one more request otherwise subsequent requests would fail. With the default of 3,000 requests/min, customers can effectively send 1 request every 20ms, or every .02 seconds.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/rate-limits-in-headers"><h3 class="anchor-heading" name="rate-limits-in-headers">Rate limits in headers</h3></a></div><p>In addition to seeing your rate limit on your <a href="/account/rate-limits">account page</a>, you can also view important information about your rate limits such as the remaining requests, tokens, and other metadata in the headers of the HTTP response.</p><p>You can expect to see the following header fields:</p><div class="custom-table"><table><thead><tr><th>Field</th><th>Sample Value</th><th>Description</th></tr></thead><tbody><tr><td>x-ratelimit-limit-requests</td><td>60</td><td>The maximum number of requests that are permitted before exhausting the rate limit.</td></tr><tr><td>x-ratelimit-limit-tokens</td><td>150000</td><td>The maximum number of tokens that are permitted before exhausting the rate limit.</td></tr><tr><td>x-ratelimit-remaining-requests</td><td>59</td><td>The remaining number of requests that are permitted before exhausting the rate limit.</td></tr><tr><td>x-ratelimit-remaining-tokens</td><td>149984</td><td>The remaining number of tokens that are permitted before exhausting the rate limit.</td></tr><tr><td>x-ratelimit-reset-requests</td><td>1s</td><td>The time until the rate limit (based on requests) resets to its initial state.</td></tr><tr><td>x-ratelimit-reset-tokens</td><td>6m0s</td><td>The time until the rate limit (based on tokens) resets to its initial state.</td></tr></tbody></table></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/what-happens-if-i-hit-a-rate-limit-error"><h3 class="anchor-heading" name="what-happens-if-i-hit-a-rate-limit-error">What happens if I hit a rate limit error?</h3></a></div><p>Rate limit errors look like this:</p><blockquote><p>Rate limit reached for default-text-davinci-002 in organization org-{id} on requests per min. Limit: 20.000000 / min. Current: 24.000000 / min.</p></blockquote><p>If you hit a rate limit, it means you've made too many requests in a short period of time, and the API is refusing to fulfill further requests until a specified amount of time has passed.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/rate-limits-vs-max_tokens"><h3 class="anchor-heading" name="rate-limits-vs-max_tokens">Rate limits vs <code>max_tokens</code></h3></a></div><p>Each <a href="https://platform.qxlabai.com/docs/models/overview" target="_blank" rel="noopener noreferrer">model we offer</a> has a limited number of tokens that can be passed in as input when making a request. You cannot increase the maximum number of tokens a model takes in. For example, if you are using <code>text-ada-001</code>, the maximum number of tokens you can send to this model is 2,048 tokens per request.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/error-mitigation">
  <div id="list-item-2"></div>
  <h2 class="anchor-heading" name="error-mitigation">Error Mitigation</h2></a></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/what-are-some-steps-i-can-take-to-mitigate-this"><h3 class="anchor-heading" name="what-are-some-steps-i-can-take-to-mitigate-this">What are some steps I can take to mitigate this?</h3></a></div><p>The QX LabAI Cookbook has a <a href="https://github.com/QX LabAI/QX LabAI-cookbook/blob/main/examples/How_to_handle_rate_limits.ipynb" target="_blank" rel="noopener noreferrer">Python notebook</a> that explains how to avoid rate limit errors, as well an example <a href="https://github.com/QX LabAI/QX LabAI-cookbook/blob/main/examples/api_request_parallel_processor.py" target="_blank" rel="noopener noreferrer">Python script</a> for staying under rate limits while batch processing API requests.</p><p>You should also exercise caution when providing programmatic access, bulk processing features, and automated social media posting - consider only enabling these for trusted customers.</p><p>To protect against automated and high-volume misuse, set a usage limit for individual users within a specified time frame (daily, weekly, or monthly). Consider implementing a hard cap or a manual review process for users who exceed the limit.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/retrying-with-exponential-backoff"><h4 class="anchor-heading" name="retrying-with-exponential-backoff">Retrying with exponential backoff</h4></a></div><p>One easy way to avoid rate limit errors is to automatically retry requests with a random exponential backoff. Retrying with exponential backoff means performing a short sleep when a rate limit error is hit, then retrying the unsuccessful request. If the request is still unsuccessful, the sleep length is increased and the process is repeated. This continues until the request is successful or until a maximum number of retries is reached.
This approach has many benefits:</p>
<ul>
  <li>Automatic retries means you can recover from rate limit errors without crashes or missing data</li>
  <li>Exponential backoff means that your first retries can be tried quickly, while still benefiting from longer delays if your first few retries fail</li>
  <li>Adding random jitter to the delay helps retries from all hitting at the same time.</li>
</ul>
<p>Note that unsuccessful requests contribute to your per-minute limit, so continuously resending a request won’t work.</p><p>Below are a few example solutions <strong>for Python</strong> that use exponential backoff.</p>

<div class="accordion" id="accordionPanelsStayOpenExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
        <div class="expn-label">Example #1: Using the Tenacity library</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne">
      <div class="accordion-body">
        <div class="expn">  
          <div class="expn-content hidden" id="expander-24"><p>Tenacity is an Apache 2.0 licensed general-purpose retrying library, written in Python, to simplify the task of adding retry behavior to just about anything.
          To add exponential backoff to your requests, you can use the <code>tenacity.retry</code> decorator. The below example uses the <code>tenacity.wait_random_exponential</code> function to add random exponential backoff to a request.</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Using the Tenacity library</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
          </span><span class="react-syntax-highlighter-line-number">2
          </span><span class="react-syntax-highlighter-line-number">3
          </span><span class="react-syntax-highlighter-line-number">4
          </span><span class="react-syntax-highlighter-line-number">5
          </span><span class="react-syntax-highlighter-line-number">6
          </span><span class="react-syntax-highlighter-line-number">7
          </span><span class="react-syntax-highlighter-line-number">8
          </span><span class="react-syntax-highlighter-line-number">9
          </span><span class="react-syntax-highlighter-line-number">10
          </span><span class="react-syntax-highlighter-line-number">11
          </span><span class="react-syntax-highlighter-line-number">12
          </span></code><span class=""><span class="hljs-keyword">import</span><span class=""> QX LabAI
          </span></span><span class=""><span class=""></span><span class="hljs-keyword">from</span><span class=""> tenacity </span><span class="hljs-keyword">import</span><span class=""> (
          </span></span><span class="">    retry,
          </span><span class="">    stop_after_attempt,
          </span><span class="">    wait_random_exponential,
          </span><span class=""><span class="">)  </span><span class="hljs-comment"># for exponential backoff</span><span class="">
          </span></span><span class=""> 
          </span><span class=""><span class=""></span><span class="hljs-meta">@retry(</span><span class="hljs-meta hljs-params">wait=wait_random_exponential(</span><span class="hljs-meta hljs-params hljs-built_in">min</span><span class="hljs-meta hljs-params">=</span><span class="hljs-meta hljs-params hljs-number">1</span><span class="hljs-meta hljs-params">, </span><span class="hljs-meta hljs-params hljs-built_in">max</span><span class="hljs-meta hljs-params">=</span><span class="hljs-meta hljs-params hljs-number">60</span><span class="hljs-meta hljs-params">), stop=stop_after_attempt(</span><span class="hljs-meta hljs-params hljs-number">6</span><span class="hljs-meta hljs-params">)</span><span class="hljs-meta">)</span><span class="">
          </span></span><span class=""><span class=""></span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">completion_with_backoff</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">**kwargs</span><span class="hljs-function">):</span><span class="">
          </span></span><span class=""><span class="">    </span><span class="hljs-keyword">return</span><span class=""> qxlabai.completion.create(**kwargs)
          </span></span><span class=""> 
          </span><span class=""><span class="">completion_with_backoff(model=</span><span class="hljs-string">"text-davinci-003"</span><span class="">, prompt=</span><span class="hljs-string">"Once upon a time,"</span><span class="">)</span></span></code></pre></div>
          </div>Note that the Tenacity library is a third-party tool, and QX LabAI makes no guarantees about its reliability or security.<div class="expn-collapse">
            <button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button">
              <span class="btn-label-wrap">
                <span class="btn-label-inner">Collapse&zwj;</span>
            </span>
          </button>
          </div>
          </div>
          </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
        <div class="expn-label">Example #2: Using the backoff library</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
      <div class="accordion-body">
        <div class="expn">
<div class="expn-content hidden" id="expander-25">
  <p>Another python library that provides function decorators for backoff and retry is <a href="https://pypi.org/project/backoff/" target="_blank" rel="noopener noreferrer">backoff</a>:</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Using the Tenacity library</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span></code><span class=""><span class="hljs-keyword">import</span><span class=""> backoff 
</span></span><span class=""><span class=""></span><span class="hljs-keyword">import</span><span class=""> QX LabAI 
</span></span><span class=""><span class=""></span><span class="hljs-meta">@backoff.on_exception(</span><span class="hljs-meta hljs-params">backoff.expo, QX LabAI.error.RateLimitError</span><span class="hljs-meta">)</span><span class="">
</span></span><span class=""><span class=""></span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">completions_with_backoff</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">**kwargs</span><span class="hljs-function">):</span><span class="">
</span></span><span class=""><span class="">    </span><span class="hljs-keyword">return</span><span class=""> qxlabai.completion.create(**kwargs)
</span></span><span class=""> 
</span><span class=""><span class="">completions_with_backoff(model=</span><span class="hljs-string">"text-davinci-003"</span><span class="">, prompt=</span><span class="hljs-string">"Once upon a time,"</span><span class="">)</span></span></code></pre></div></div><p>Like Tenacity, the backoff library is a third-party tool, and QX LabAI makes no guarantees about its reliability or security.</p><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div></div>
</div>
      </div>
    </div>
  </div>


  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
        <div class="expn-label">Example 3: Manual backoff implementation</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
      <div class="accordion-body">
        <div class="expn">
<div class="expn-content hidden" id="expander-26">If you don't want to use third-party libraries, you can implement your own backoff logic following this example:<div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Using manual backoff implementation</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span><span class="react-syntax-highlighter-line-number">45
</span><span class="react-syntax-highlighter-line-number">46
</span><span class="react-syntax-highlighter-line-number">47
</span><span class="react-syntax-highlighter-line-number">48
</span><span class="react-syntax-highlighter-line-number">49
</span><span class="react-syntax-highlighter-line-number">50
</span><span class="react-syntax-highlighter-line-number">51
</span><span class="react-syntax-highlighter-line-number">52
</span><span class="react-syntax-highlighter-line-number">53
</span></code><span class=""><span class="hljs-comment"># imports</span><span class="">
</span></span><span class=""><span class=""></span><span class="hljs-keyword">import</span><span class=""> random
</span></span><span class=""><span class=""></span><span class="hljs-keyword">import</span><span class=""> time
</span></span><span class=""> 
</span><span class=""><span class=""></span><span class="hljs-keyword">import</span><span class=""> QX LabAI
</span></span><span class=""> 
</span><span class=""><span class=""></span><span class="hljs-comment"># define a retry decorator</span><span class="">
</span></span><span class=""><span class=""></span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">retry_with_exponential_backoff</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">
</span></span><span class="hljs-function hljs-params">    func,
</span><span class=""><span class="hljs-function hljs-params">    initial_delay: </span><span class="hljs-function hljs-params hljs-built_in">float</span><span class="hljs-function hljs-params"> = </span><span class="hljs-function hljs-params hljs-number">1</span><span class="hljs-function hljs-params">,
</span></span><span class=""><span class="hljs-function hljs-params">    exponential_base: </span><span class="hljs-function hljs-params hljs-built_in">float</span><span class="hljs-function hljs-params"> = </span><span class="hljs-function hljs-params hljs-number">2</span><span class="hljs-function hljs-params">,
</span></span><span class=""><span class="hljs-function hljs-params">    jitter: </span><span class="hljs-function hljs-params hljs-built_in">bool</span><span class="hljs-function hljs-params"> = </span><span class="hljs-function hljs-params hljs-literal">True</span><span class="hljs-function hljs-params">,
</span></span><span class=""><span class="hljs-function hljs-params">    max_retries: </span><span class="hljs-function hljs-params hljs-built_in">int</span><span class="hljs-function hljs-params"> = </span><span class="hljs-function hljs-params hljs-number">10</span><span class="hljs-function hljs-params">,
</span></span><span class=""><span class="hljs-function hljs-params">    errors: </span><span class="hljs-function hljs-params hljs-built_in">tuple</span><span class="hljs-function hljs-params"> = (</span><span class="hljs-function hljs-params">QX LabAI.error.RateLimitError,</span><span class="hljs-function hljs-params">),
</span></span><span class=""><span class="hljs-function hljs-params"></span><span class="hljs-function">):</span><span class="">
</span></span><span class=""><span class="">    </span><span class="hljs-string">"""Retry a function with exponential backoff."""</span><span class="">
</span></span><span class=""> 
</span><span class=""><span class="">    </span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">wrapper</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">*args, **kwargs</span><span class="hljs-function">):</span><span class="">
</span></span><span class=""><span class="">        </span><span class="hljs-comment"># Initialize variables</span><span class="">
</span></span><span class=""><span class="">        num_retries = </span><span class="hljs-number">0</span><span class="">
</span></span><span class="">        delay = initial_delay
</span><span class=""> 
</span><span class=""><span class="">        </span><span class="hljs-comment"># Loop until a successful response or max_retries is hit or an exception is raised</span><span class="">
</span></span><span class=""><span class="">        </span><span class="hljs-keyword">while</span><span class=""> </span><span class="hljs-literal">True</span><span class="">:
</span></span><span class=""><span class="">            </span><span class="hljs-keyword">try</span><span class="">:
</span></span><span class=""><span class="">                </span><span class="hljs-keyword">return</span><span class=""> func(*args, **kwargs)
</span></span><span class=""> 
</span><span class=""><span class="">            </span><span class="hljs-comment"># Retry on specific errors</span><span class="">
</span></span><span class=""><span class="">            </span><span class="hljs-keyword">except</span><span class=""> errors </span><span class="hljs-keyword">as</span><span class=""> e:
</span></span><span class=""><span class="">                </span><span class="hljs-comment"># Increment retries</span><span class="">
</span></span><span class=""><span class="">                num_retries += </span><span class="hljs-number">1</span><span class="">
</span></span><span class=""> 
</span><span class=""><span class="">                </span><span class="hljs-comment"># Check if max retries has been reached</span><span class="">
</span></span><span class=""><span class="">                </span><span class="hljs-keyword">if</span><span class=""> num_retries &gt; max_retries:
</span></span><span class=""><span class="">                    </span><span class="hljs-keyword">raise</span><span class=""> Exception(
</span></span><span class=""><span class="">                        </span><span class="hljs-string">f"Maximum number of retries (</span><span class="hljs-string hljs-subst">{max_retries}</span><span class="hljs-string">) exceeded."</span><span class="">
</span></span><span class="">                    )
</span><span class=""> 
</span><span class=""><span class="">                </span><span class="hljs-comment"># Increment the delay</span><span class="">
</span></span><span class=""><span class="">                delay *= exponential_base * (</span><span class="hljs-number">1</span><span class=""> + jitter * random.random())
</span></span><span class=""> 
</span><span class=""><span class="">                </span><span class="hljs-comment"># Sleep for the delay</span><span class="">
</span></span><span class="">                time.sleep(delay)
</span><span class=""> 
</span><span class=""><span class="">            </span><span class="hljs-comment"># Raise exceptions for any errors not specified</span><span class="">
</span></span><span class=""><span class="">            </span><span class="hljs-keyword">except</span><span class=""> Exception </span><span class="hljs-keyword">as</span><span class=""> e:
</span></span><span class=""><span class="">                </span><span class="hljs-keyword">raise</span><span class=""> e
</span></span><span class=""> 
</span><span class=""><span class="">    </span><span class="hljs-keyword">return</span><span class=""> wrapper
</span></span><span class="">    
</span><span class=""><span class=""></span><span class="hljs-meta">@retry_with_exponential_backoff</span><span class="">
</span></span><span class=""><span class=""></span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">completions_with_backoff</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">**kwargs</span><span class="hljs-function">):</span><span class="">
</span></span><span class=""><span class="">    </span><span class="hljs-keyword">return</span><span class=""> qxlabai.completion.create(**kwargs)</span></span></code></pre></div></div>Again, QX LabAI makes no guarantees on the security or efficiency of this solution but it can be a good starting place for your own solution.<div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div></div>
</div>
      </div>
    </div>
  </div>
</div>

<div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/reduce-the-max_tokens-to-match-the-size-of-your-completions"><h4 class="anchor-heading" name="reduce-the-max_tokens-to-match-the-size-of-your-completions">Reduce the <code>max_tokens</code> to match the size of your completions</h4></a></div><p>Your rate limit is calculated as the maximum of <code>max_tokens</code> and the estimated number of tokens based on the character count of your request. Try to set the <code>max_tokens</code> value as close to your expected response size as possible.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/batching-requests"><h4 class="anchor-heading" name="batching-requests">Batching requests</h4></a></div><p>The QX LabAI API has separate limits for requests per minute and tokens per minute.</p><p>If you're hitting the limit on requests per minute, but have available capacity on tokens per minute, you can increase your throughput by batching multiple tasks into each request. This will allow you to process more tokens per minute, especially with our smaller models.</p><p>Sending in a batch of prompts works exactly the same as a normal API call, except you pass in a list of strings to the prompt parameter instead of a single string.</p>


<div class="accordion" id="accordionPanelsStayOpenExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
        <div class="expn-label">Example without batching</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne">
      <div class="accordion-body">
        <div class="expn">  
          <div class="expn-content hidden" id="expander-27"><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">No batching</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
      </span><span class="react-syntax-highlighter-line-number">2
      </span><span class="react-syntax-highlighter-line-number">3
      </span><span class="react-syntax-highlighter-line-number">4
      </span><span class="react-syntax-highlighter-line-number">5
      </span><span class="react-syntax-highlighter-line-number">6
      </span><span class="react-syntax-highlighter-line-number">7
      </span><span class="react-syntax-highlighter-line-number">8
      </span><span class="react-syntax-highlighter-line-number">9
      </span><span class="react-syntax-highlighter-line-number">10
      </span><span class="react-syntax-highlighter-line-number">11
      </span><span class="react-syntax-highlighter-line-number">12
      </span><span class="react-syntax-highlighter-line-number">13
      </span><span class="react-syntax-highlighter-line-number">14
      </span></code><span class=""><span class="hljs-keyword">import</span><span class=""> QX LabAI
      </span></span><span class=""> 
      </span><span class=""><span class="">num_stories = </span><span class="hljs-number">10</span><span class="">
      </span></span><span class=""><span class="">prompt = </span><span class="hljs-string">"Once upon a time,"</span><span class="">
      </span></span><span class=""> 
      </span><span class=""><span class=""></span><span class="hljs-comment"># serial example, with one story completion per request</span><span class="">
      </span></span><span class=""><span class=""></span><span class="hljs-keyword">for</span><span class=""> _ </span><span class="hljs-keyword">in</span><span class=""> </span><span class="hljs-built_in">range</span><span class="">(num_stories):
      </span></span><span class="">    response = qxlabai.completion.create(
      </span><span class=""><span class="">        model=</span><span class="hljs-string">"curie"</span><span class="">,
      </span></span><span class="">        prompt=prompt,
      </span><span class=""><span class="">        max_tokens=</span><span class="hljs-number">20</span><span class="">,
      </span></span><span class="">    )
      </span><span class=""><span class="">    </span><span class="hljs-comment"># print story</span><span class="">
      </span></span><span class=""><span class="">    </span><span class="hljs-built_in">print</span><span class="">(prompt + response.choices[</span><span class="hljs-number">0</span><span class="">].text)</span></span></code></pre></div></div><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div></div>
      </div>
      </div>
    </div>
  </div>


  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
        <div class="expn-label">Example with batching</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
      <div class="accordion-body">
        <div class="expn">
          <div class="expn-content hidden" id="expander-28"><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Batching</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
        </span><span class="react-syntax-highlighter-line-number">2
        </span><span class="react-syntax-highlighter-line-number">3
        </span><span class="react-syntax-highlighter-line-number">4
        </span><span class="react-syntax-highlighter-line-number">5
        </span><span class="react-syntax-highlighter-line-number">6
        </span><span class="react-syntax-highlighter-line-number">7
        </span><span class="react-syntax-highlighter-line-number">8
        </span><span class="react-syntax-highlighter-line-number">9
        </span><span class="react-syntax-highlighter-line-number">10
        </span><span class="react-syntax-highlighter-line-number">11
        </span><span class="react-syntax-highlighter-line-number">12
        </span><span class="react-syntax-highlighter-line-number">13
        </span><span class="react-syntax-highlighter-line-number">14
        </span><span class="react-syntax-highlighter-line-number">15
        </span><span class="react-syntax-highlighter-line-number">16
        </span><span class="react-syntax-highlighter-line-number">17
        </span><span class="react-syntax-highlighter-line-number">18
        </span><span class="react-syntax-highlighter-line-number">19
        </span><span class="react-syntax-highlighter-line-number">20
        </span><span class="react-syntax-highlighter-line-number">21
        </span></code><span class=""><span class="hljs-keyword">import</span><span class=""> QX LabAI  </span><span class="hljs-comment"># for making QX LabAI API requests</span><span class="">
        </span></span><span class=""> 
        </span><span class=""> 
        </span><span class=""><span class="">num_stories = </span><span class="hljs-number">10</span><span class="">
        </span></span><span class=""><span class="">prompts = [</span><span class="hljs-string">"Once upon a time,"</span><span class="">] * num_stories
        </span></span><span class=""> 
        </span><span class=""><span class=""></span><span class="hljs-comment"># batched example, with 10 story completions per request</span><span class="">
        </span></span><span class="">response = qxlabai.completion.create(
        </span><span class=""><span class="">    model=</span><span class="hljs-string">"curie"</span><span class="">,
        </span></span><span class="">    prompt=prompts,
        </span><span class=""><span class="">    max_tokens=</span><span class="hljs-number">20</span><span class="">,
        </span></span><span class="">)
        </span><span class=""> 
        </span><span class=""><span class=""></span><span class="hljs-comment"># match completions to prompts by index</span><span class="">
        </span></span><span class=""><span class="">stories = [</span><span class="hljs-string">""</span><span class="">] * </span><span class="hljs-built_in">len</span><span class="">(prompts)
        </span></span><span class=""><span class=""></span><span class="hljs-keyword">for</span><span class=""> choice </span><span class="hljs-keyword">in</span><span class=""> response.choices:
        </span></span><span class="">    stories[choice.index] = prompts[choice.index] + choice.text
        </span><span class=""> 
        </span><span class=""><span class=""></span><span class="hljs-comment"># print stories</span><span class="">
        </span></span><span class=""><span class=""></span><span class="hljs-keyword">for</span><span class=""> story </span><span class="hljs-keyword">in</span><span class=""> stories:
        </span></span><span class=""><span class="">    </span><span class="hljs-built_in">print</span><span class="">(story)</span></span></code></pre></div></div><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div>
        </div>        
        </div>
      </div>
    </div>
  </div>
</div>







<div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-neutral"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 312h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg></div><div class="notice-message"><div class="notice-body"> Warning: the response object may not return completions in the order of the prompts, so always remember to match responses back to prompts using the index field.</div></div></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/request-increase">
  <div id="list-item-3"></div>
  <h2 class="anchor-heading" name="request-increase">Request Increase</h2></a></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/when-should-i-consider-applying-for-a-rate-limit-increase"><h3 class="anchor-heading" name="when-should-i-consider-applying-for-a-rate-limit-increase">When should I consider applying for a rate limit increase?</h3></a></div><p>Our default rate limits help us maximize stability and prevent abuse of our API. We increase limits to enable high-traffic applications, so the best time to apply for a rate limit increase is when you feel that you have the necessary traffic data to support a strong case for increasing the rate limit. Large rate limit increase requests without supporting data are not likely to be approved. If you're gearing up for a product launch, please obtain the relevant data through a phased release over 10 days.</p><p>Keep in mind that rate limit increases can sometimes take 7-10 days so it makes sense to try and plan ahead and submit early if there is data to support you will reach your rate limit given your current growth numbers.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/will-my-rate-limit-increase-request-be-rejected"><h3 class="anchor-heading" name="will-my-rate-limit-increase-request-be-rejected">Will my rate limit increase request be rejected?</h3></a></div><p>A rate limit increase request is most often rejected because it lacks the data needed to justify the increase. We have provided numerical examples below that show how to best support a rate limit increase request and try our best to approve all requests that align with our safety policy and show supporting data. We are committed to enabling developers to scale and be successful with our API.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/rate-limits/i-ve-implemented-exponential-backoff-for-my-text-code-apis-but-i-m-still-hitting-this-error-how-do-i-increase-my-rate-limit"><h3 class="anchor-heading" name="i-ve-implemented-exponential-backoff-for-my-text-code-apis-but-i-m-still-hitting-this-error-how-do-i-increase-my-rate-limit">I’ve implemented exponential backoff for my text/code APIs, but I’m still hitting this error. How do I increase my rate limit?</h3></a></div><p>We understand the frustration that limited rate limits can cause, and we would love to raise the defaults for everyone. However, due to shared capacity constraints, we can only approve rate limit increases for paid customers who have demonstrated a need through our <a href="https://docs.google.com/forms/d/e/1FAIpQLSc6gSL3zfHFlL6gNIyUcjkEv29jModHGxg5_XGyr-PrE2LaHw/viewform" target="_blank" rel="noopener noreferrer">Rate Limit Increase Request form</a>.
To help us evaluate your needs properly, we ask that you please provide statistics on your current usage or projections based on historic user activity in the 'Share evidence of need' section of the form. If this information is not available, we recommend a phased release approach. Start by releasing the service to a subset of users at your current rate limits, gather usage data for 10 business days, and then submit a formal rate limit increase request based on that data for our review and approval.</p><p>We will review your request and if it is approved, we will notify you of the approval within a period of 7-10 business days.</p><p>Here are some examples of how you might fill out this form:</p>


<div class="accordion" id="accordionPanelsStayOpenExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
        <div class="expn-label">DALL-E API examples</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse " aria-labelledby="panelsStayOpen-headingOne">
      <div class="accordion-body">
        <div class="expn"><div class="expn-content hidden" id="expander-29"><div class="custom-table"><table><thead><tr><th>Model</th><th>Estimate Tokens/Minute</th><th>Estimate Requests/Minute</th><th># of users</th><th>Evidence of need</th><th>1 hour max throughput cost</th></tr></thead><tbody><tr><td>DALL-E API</td><td>N/A</td><td>50</td><td>1000</td><td>Our app is currently in production and based on our past traffic, we make about 10 requests per minute.</td><td>$60</td></tr><tr><td>DALL-E API</td><td>N/A</td><td>150</td><td>10,000</td><td>Our app is gaining traction in the App Store and we’re starting to hit rate limits. Can we get triple the default limit of 50 img/min? If we need more we’ll submit a new form. Thanks!</td><td>$180</td></tr></tbody></table></div><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div>
</div></div>
      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
        <div class="expn-label">Language model examples</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
      <div class="accordion-body">
        <div class="expn"><div class="expn-content hidden" id="expander-30"><div class="custom-table"><table><thead><tr><th>Model</th><th>Estimate Tokens/Minute</th><th>Estimate Requests/Minute</th><th># of users</th><th>Evidence of need</th><th>1 hour max throughput cost</th></tr></thead><tbody><tr><td>gpt-3.5-turbo</td><td>325,000</td><td>4,000</td><td>50</td><td>We’re releasing to an initial group of alpha testers and need a higher limit to accommodate their initial usage. We have a link here to our google drive which shows analytics and api usage.</td><td>$390</td></tr><tr><td>gpt-4</td><td>750,000</td><td>10,000</td><td>10,000</td><td>Our application is receiving a lot of interest; we have 50,000 people on our waitlist. We’d like to roll out to groups of 1,000 people/day until we reach 50,000 users. Please see this link of our current token/minute traffic over the past 30 days. This is for 500 users, and based on their usage, we think 750,000 tokens/minute and 10,000 requests/minute will work as a good starting point.</td><td>$900</td></tr></tbody></table></div><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div></div></div>
      </div>
    </div>
  </div>

  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
        <div class="expn-label">Code model examples</div>
      </button>
    </h2>
    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
      <div class="accordion-body">
        <div class="expn">
          <div class="expn-content hidden" id="expander-31"><div class="custom-table"><table><thead><tr><th>Model</th><th>Estimate Tokens/Minute</th><th>Estimate Requests/Minute</th><th># of users</th><th>Evidence of need</th><th>1 hour max throughput cost</th></tr></thead><tbody><tr><td>code-davinci-002</td><td>150,000</td><td>1,000</td><td>15</td><td>We are a group of researchers working on a paper. We estimate that we will need a higher rate limit on code-davinci-002 in order to complete our research before the end of the month. These estimates are based on the following calculation [...]</td><td>Codex models are now deprecated and no longer accessible.</td></tr></tbody></table></div><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div></div>
        </div>
      </div>
    </div>
  </div>

</div>







<br>Please note that these examples are just general use case scenarios, the actual usage rate will vary depending on the specific implementation and usage.</div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"></script>
  </body>


</html>