<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <title>Qx Lab AI</title>
  <link rel="stylesheet" href="./style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
</head>

  <body data-spy="scroll" data-target="#scrollspy" data-offset="100">
    <nav class="navbar navbar-expand-lg custom-sticky-bar">
      <div class="container-fluid" style="padding: 0 24px;">
        <div class="header-logo">
          <a href="overView.html">QX LAB AI</a>
        </div>
        <button class="navbar-toggler ps-0 pe-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-md-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="overView.html">Overview</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none res-active" href="documentation.html">Documentation</a>
              <div class="accordion res-header-bar-list" id="accordionExample">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      Documentation
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="documentation.html">
                        Introduction
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="quick-start.html">
                        Quickstart
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="libraries.html">
                        Libraries
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="models.html">
                        Models
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="deprecations.html">
                        Deprecations
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="tutorials.html">
                        Tutorials
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="policies.html">
                        Policies
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      Guides
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="GPT-Models.html">
                        GPT
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="gpt-best-practices.html">
                        GPT best practices
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="image-generation.html">
                        Image generation
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="fine-tuning.html">
                        Fine-tuning
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="embeddings.html">
                        Embeddings
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="speech-to-text.html">
                        Speech to text
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="moderation.html">
                        moderation
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="rate-limits.html">
                        rate-limits
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="error-codes.html">
                        Error codes
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="safety-best-practices.html">
                        Safety best practices
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="production-best-practices.html">
                        Production best practices
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      Plugins
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="plugins-introduction.html">
                        Introduction
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="plugins-getting-started.html">
                        Getting started
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-authentication.html">
                        Authentication
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-examples.html">
                        Examples
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-production.html">
                        Production
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-review.html">
                        Plugin review
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a href="api-reference.html" class="accordion-button collapsed pt-1 pb-1">
                      API reference
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a href="examples.html" class="accordion-button collapsed pt-1 pb-1">
                      Examples
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a class="accordion-button collapsed pt-1 pb-1">
                      Log in
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a class="accordion-button collapsed pt-1 pb-1">
                      Sign up
                    </a>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="api-reference.html">API reference</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="examples.html">Examples</a>
            </li>
          </ul>
          <div class="res-flex">
            <button type="button" class="btn d-res-none">Log in</button>
            <button type="button" class="btn logInbtn d-res-none">Sign up</button>
          </div>
        </div>
      </div>
    </nav>
    <div class="d-flex">
      <div class="left-content-scroll">
        <div id="list-example" class="list-group border-radius-0">
          <form class="d-flex searchForm" role="search">
            <svg width="20" height="20" class="searchIcon" viewBox="0 0 20 20">
              <path
                d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z"
                stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
              </path>
            </svg>
            <input class="form-control sidebarSearch" type="search" placeholder="Search" aria-label="Search">
          </form>
          <div id="scrollspy">
            <div class="sidebarPadding sidebarMainText">
              GET STARTED
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="documentation.html">
                Introduction
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="quick-start.html">
                Quickstart
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="libraries.html">
                Libraries
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="models.html">
                Models
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="deprecations.html">
              Deprecations
            </a>
            <a class="sidebarListText sidebarSubListText" href="tutorials.html">
              Tutorials
            </a>
            <a class="sidebarListText sidebarSubListText" href="policies.html">
              Policies
            </a>
          </div>
          <div class="sectionTopSection">
            <div class="sidebarPadding sidebarMainText">
              Guides
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="GPT-Models.html">
                GPT
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="gpt-best-practices.html">
              GPT best practices
            </a>
            <div>
              <a class="sidebarListText sidebarSubListText" href="image-generation.html">
                Image generation
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="fine-tuning.html">
                Fine-tuning
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="embeddings.html">
                Embeddings
              </a>              
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="speech-to-text.html">
                Speech to text
              </a>          
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="moderation.html">
                Moderation
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="rate-limits.html">
                Rate Limits
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="error-codes.html">
                Error codes
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="safety-best-practices.html">
              Safety best practices
            </a>
            <div>
              <a class="sidebarListText sidebarSubListText" href="production-best-practices.html">
                Production best practices
              </a>
            </div>
          </div>
          <div class="sectionTopSection">
            <div class="sidebarPadding sidebarMainText">
              Chat plugins
            </div>
            <a class="sidebarListText sidebarSubListText" href="plugins-introduction.html">
              Introduction
            </a>
            <div>
              <a class="sidebarListText sidebarSubListText" href="plugins-getting-started.html">
                Getting started
              </a>
            </div>
            <div>
              <a class="sidebarListText list-group-item active" href="plugins-authentication.html">
                Authentication
              </a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-1">
              Service level</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-2">
              OAuth</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-3">
              No authentication</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-4">
              User level</a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="plugins-examples.html">
              Examples
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-production.html">
              Production
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-review.html">
              Plugin review
            </a>
            <div class="sidebarListText">
              Plugin policies
            </div>
          </div>
        </div>
      </div>
      <div class="right-content-scroll custom-right-content">
        <div class="custom-right-content-width">
          <div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-smooth-scroll="true"
            class="scrollspy-example pt-4" tabindex="0">
            <div class="markdown-page markdown-content"><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/plugins/authentication/plugin-authentication"><h1 class="anchor-heading" name="plugin-authentication">Plugin authentication</h1></a></div><p>Plugins offer numerous authentication schemas to accommodate various use cases. To specify the authentication schema for your plugin, use the manifest file. Our <a href="/docs/plugins/production/domain-verification-and-security">plugin domain policy</a> outlines our strategy for addressing domain security issues. For examples of available authentication options, refer to the <a href="/docs/plugins/examples">examples section</a>, which showcases all the different choices.</p><p>The <code>ai-plugin.json</code> file requires an <code>auth</code> schema to be set. Even if you elect to use no authentication, it is still required to specify <code>"auth": { "type": "none" }</code>.</p><p>We support only localhost development without authentication; if you want to use service, user, or OAuth authentication, you need to set up a remote server.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/plugins/authentication/service-level">
              <div id="list-item-1"></div>
              <h2 class="anchor-heading" name="service-level">Service level</h2></a></div><div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-neutral"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 312h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg></div><div class="notice-message"><div class="notice-body">We suggest service level auth as it gives developers control over how their plugin is being used but also doesn't introduce overhead for users.</div></div></div></div><p>If you want to specifically enable QX LabAI plugins to work with your API, you can provide a client secret during the plugin installation flow. This means that all traffic from QX LabAI plugins will be authenticated but not on a user level. This flow benefits from a simple end user experience but less control from an API perspective.</p><ul><li>To start, select "Develop your own plugin" in the Ask Qx plugin store, and enter the domain where your plugin is hosted.</li><li>In <code>ai-plugin.json</code>, set <code>auth.type</code> to <code>"service_http"</code> as is shown in our <a href="/docs/plugins/examples/example-plugins">service level auth example</a>.</li><li>You will be prompted for your service access token, which is a string specified in your code.<ul><li>We securely store an encrypted copy of your service access token to enable plugin installation without additional authentication.</li><li>The service access token is sent in the <code>Authorization</code> header for plugin requests.</li></ul></li><li>Once you add your service access token into the Ask Qx UI, you will be presented with a verification token.</li><li>Add the verification token to your <code>ai-plugin.json</code> file under the auth section as shown below.</li></ul><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="copy-btn-top btn btn-sm btn-minimal btn-neutral code-sample-copy-float" type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-json" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span></code><span class=""><span class="hljs-string">"auth"</span><span class="">: {
</span></span><span class=""><span class="">  </span><span class="hljs-string">"type"</span><span class="">: </span><span class="hljs-string">"service_http"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"authorization_type"</span><span class="">: </span><span class="hljs-string">"bearer"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"verification_tokens"</span><span class="">: {
</span></span><span class=""><span class="">    </span><span class="hljs-string">"QX LabAI"</span><span class="">: </span><span class="hljs-string">"Replace_this_string_with_the_verification_token_generated_in_the_Ask Qx_UI"</span><span class="">
</span></span><span class="">  }
</span><span class="">},</span></code></pre></div></div><p>The verification tokens are designed to support multiple applications. You can simply add the additional applications you want your plugin to support:</p><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="copy-btn-top btn btn-sm btn-minimal btn-neutral code-sample-copy-float" type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-json" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span class=""><span class="hljs-string">"verification_tokens"</span><span class="">: {
</span></span><span class=""><span class="">    </span><span class="hljs-string">"QX LabAI"</span><span class="">: </span><span class="hljs-string">"Replace_this_string_with_the_verification_token_generated_in_the_Ask Qx_UI"</span><span class="">,
</span></span><span class=""><span class="">    </span><span class="hljs-string">"other_service"</span><span class="">: </span><span class="hljs-string">"abc123"</span><span class="">
</span></span><span class="">  }</span></code></pre></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/plugins/authentication/oauth">
  <div id="list-item-2"></div>
  <h2 class="anchor-heading" name="oauth">OAuth</h2></a></div><p>The plugin protocol is compatible with OAuth. A simple example of the OAuth flow we are expecting should look something like the following:</p><ul><li>To start, select "Develop your own plugin" in the Ask Qx plugin store, and enter the domain where your plugin is hosted (cannot be localhost).</li><li>In <code>ai-plugin.json</code>, set <code>auth.type</code> to <code>"oauth"</code> as is shown in our <a href="/docs/plugins/examples/example-plugins">OAuth example</a>.</li><li>Then, you will be prompted to enter the OAuth client ID and client secret.<ul><li>The client ID and secret can be simple text strings but should <a href="https://www.oauth.com/oauth2-servers/client-registration/client-id-secret/" target="_blank" rel="noopener noreferrer">follow OAuth best practices</a>.</li><li>We store an encrypted version of the client secret, while the client ID is available to end users.</li></ul></li><li>Once you add your client ID and client secret into the Ask Qx UI, you will be presented with a verification token.</li><li>Add the verification token to your <code>ai-plugin.json</code> file under the auth section as shown below.</li><li>OAuth requests will include the following information: <code>request={'grant_type': 'authorization_code', 'client_id': 'id_set_by_developer', 'client_secret': 'secret_set_by_developer', 'code': 'abc123', 'redirect_uri': 'https://chat.qxlabai.com/aip/plugin-some_plugin_id/oauth/callback'}</code></li><li>In order for someone to use a plugin with OAuth, they will need to install the plugin and then be presented with a "Sign in with" button in the Ask Qx UI.</li><li>The <code>authorization_url</code> endpoint should return a response that looks like:
<code>{ "access_token": "example_token", "token_type": "bearer", "refresh_token": "example_token", "expires_in": 59 }</code></li><li>During the user sign in process, Ask Qx makes a request to your <code>authorization_url</code> using the specified <code>authorization_content_type</code>, we expect to get back an access token and optionally a <a href="https://auth0.com/learn/refresh-tokens" target="_blank" rel="noopener noreferrer">refresh token</a> which we use to periodically fetch a new access token.</li><li>Each time a user makes a request to the plugin, the user’s token will be passed in the Authorization header: (“Authorization”: “[Bearer/Basic][user’s token]”).</li></ul><div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-neutral"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 312h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg></div><div class="notice-message"><div class="notice-body">We require that OAuth applications make use of the <a href="https://auth0.com/docs/secure/attack-protection/state-parameters#set-and-compare-state-parameter-values" target="_blank" rel="noopener noreferrer">state parameter</a> for security reasons.</div></div></div></div><p>Below is an example of what the OAuth configuration inside of the <code>ai-plugin.json</code> file might look like:</p><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="copy-btn-top btn btn-sm btn-minimal btn-neutral code-sample-copy-float" type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-json" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span></code><span class=""><span class="hljs-string">"auth"</span><span class="">: {
</span></span><span class=""><span class="">  </span><span class="hljs-string">"type"</span><span class="">: </span><span class="hljs-string">"oauth"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"client_url"</span><span class="">: </span><span class="hljs-string">"https://example.com/authorize"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"scope"</span><span class="">: </span><span class="hljs-string">""</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"authorization_url"</span><span class="">: </span><span class="hljs-string">"https://example.com/auth/"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"authorization_content_type"</span><span class="">: </span><span class="hljs-string">"application/json"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"verification_tokens"</span><span class="">: {
</span></span><span class=""><span class="">    </span><span class="hljs-string">"QX LabAI"</span><span class="">: </span><span class="hljs-string">"Replace_this_string_with_the_verification_token_generated_in_the_Ask Qx_UI"</span><span class="">
</span></span><span class="">  }
</span><span class="">},</span></code></pre></div></div><p>To better understand the URL structure for OAuth, here is a short description of the fields:</p><ul><li>When you set up your plugin with Ask Qx, you will be asked to provide your OAuth <code>client_id</code> and <code>client_secret</code>.</li><li>When a user logs into the plugin, Ask Qx will direct the user’s browser to <code>"[client_url]?response_type=code&amp;client_id=[client_id]&amp;scope=[scope]&amp;state=xyz123&amp;redirect_uri=https%3A%2F%2Fchat.qxlabai.com%2Faip%2F[plugin_id]%2Foauth%2Fcallback"</code></li><li>The <code>plugin_id</code> is passed via the request made to your OAuth endpoint (note that it is not visible in the Ask Qx UI today but may be in the future). You can inspect the request there to see the <code>plugin_id</code>. We expect the <code>state</code> to be passed along when you redirect back to <code>redirect_uri</code>. If the <code>state</code> doesn't match the initial <code>state</code>, or has expired, the authentication flow will fail.</li><li>After your plugin redirects back to the given <code>redirect_uri</code>, Ask Qx will complete the OAuth flow by making a POST request to the <code>authorization_url</code> with content type <code>authorization_content_type</code> and parameters <code>{ “grant_type”: “authorization_code”, “client_id”: [client_id], “client_secret”: [client_secret], “code”: [the code that was returned with the redirect], “redirect_uri”: [the same redirect uri as before] }</code>.</li></ul><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/plugins/authentication/no-authentication">
  <div id="list-item-3"></div>
  <h2 class="anchor-heading" name="no-authentication">No authentication</h2></a></div><div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-neutral"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 312h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg></div><div class="notice-message"><div class="notice-body">We do not recommend the use of "no authentication", consider using "service authentication".</div></div></div></div><p>We support no-auth flow for applications that do not require authentication, where a user is able to send requests directly to your API without any restrictions. This is particularly useful if you have an open API that you want to make available to everyone, as it allows traffic from sources other than just QX LabAI plugin requests.</p><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="copy-btn-top
  copy-btn-top btn btn-sm btn-minimal btn-neutral code-sample-copy-float" type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-json" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span></code><span class=""><span class="hljs-string">"auth"</span><span class="">: {
</span></span><span class=""><span class="">  </span><span class="hljs-string">"type"</span><span class="">: </span><span class="hljs-string">"none"</span><span class="">
</span></span><span class="">},</span></code></pre></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/plugins/authentication/user-level">
  <div id="list-item-4"></div>
  <h2 class="anchor-heading" name="user-level">User level</h2></a></div><div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-neutral"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 312h-42V235h42v125zm0-166h-42v-42h42v42z"></path></svg></div><div class="notice-message"><div class="notice-body">Due to current UI limitations, we are not allowing plugins with "user authentication" into the plugin store. We expect this may change in the future.</div></div></div></div><p>Just like how a user might already be using your API, we allow user level authentication through enabling end users to copy and paste their secret API key into the Ask Qx UI during plugin install. While we encrypt the secret key when we store it in our database, we do not recommend this approach given the poor user experience.</p><ul><li>To start, a user pastes in their access token when installing the plugin</li><li>We store an encrypted version of the token</li><li>We then pass it in the Authorization header when making requests to the plugin (“Authorization”: “[Bearer/Basic][user’s token]”)</li></ul><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="copy-btn-top btn btn-sm btn-minimal btn-neutral code-sample-copy-float" type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-json" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span class=""><span class="hljs-string">"auth"</span><span class="">: {
</span></span><span class=""><span class="">  </span><span class="hljs-string">"type"</span><span class="">: </span><span class="hljs-string">"user_http"</span><span class="">,
</span></span><span class=""><span class="">  </span><span class="hljs-string">"authorization_type"</span><span class="">: </span><span class="hljs-string">"bearer"</span><span class="">,
</span></span><span class="">},</span></code></pre></div></div></div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"></script>
  </body>


</html>