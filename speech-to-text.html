<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <title>Qx Lab AI</title>
  <link rel="stylesheet" href="./style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
</head>

  <body data-spy="scroll" data-target="#scrollspy" data-offset="100">
    <nav class="navbar navbar-expand-lg custom-sticky-bar">
      <div class="container-fluid" style="padding: 0 24px;">
        <div class="header-logo">
          <a href="overView.html">QX LAB AI</a>
        </div>
        <button class="navbar-toggler ps-0 pe-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-md-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="overView.html">Overview</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none res-active" href="documentation.html">Documentation</a>
              <div class="accordion res-header-bar-list" id="accordionExample">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      Documentation
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="documentation.html">
                        Introduction
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="quick-start.html">
                        Quickstart
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="libraries.html">
                        Libraries
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="models.html">
                        Models
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="deprecations.html">
                        Deprecations
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="tutorials.html">
                        Tutorials
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="policies.html">
                        Policies
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      Guides
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="GPT-Models.html">
                        GPT
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="gpt-best-practices.html">
                        GPT best practices
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="image-generation.html">
                        Image generation
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="fine-tuning.html">
                        Fine-tuning
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="embeddings.html">
                        Embeddings
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="speech-to-text.html">
                        Speech to text
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="moderation.html">
                        moderation
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="rate-limits.html">
                        rate-limits
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="error-codes.html">
                        Error codes
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="safety-best-practices.html">
                        Safety best practices
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="production-best-practices.html">
                        Production best practices
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      Plugins
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <a href="plugins-introduction.html">
                        Introduction
                      </a>
                    </div>
                    <div class="accordion-body">
                      <a href="plugins-getting-started.html">
                        Getting started
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-authentication.html">
                        Authentication
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-examples.html">
                        Examples
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-production.html">
                        Production
                      </a>
                      </div>
                    <div class="accordion-body">
                      <a href="plugins-review.html">
                        Plugin review
                      </a>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a href="api-reference.html" class="accordion-button collapsed pt-1 pb-1">
                      API reference
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a href="examples.html" class="accordion-button collapsed pt-1 pb-1">
                      Examples
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a class="accordion-button collapsed pt-1 pb-1">
                      Log in
                    </a>
                  </div>
                </div>
                <div class="accordion-item">
                  <div class="accordion-header" >
                    <a class="accordion-button collapsed pt-1 pb-1">
                      Sign up
                    </a>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="api-reference.html">API reference</a>
            </li>
            <li class="nav-item">
              <a class="nav-link d-res-none" href="examples.html">Examples</a>
            </li>
          </ul>
          <div class="res-flex">
            <button type="button" class="btn d-res-none">Log in</button>
            <button type="button" class="btn logInbtn d-res-none">Sign up</button>
          </div>
        </div>
      </div>
    </nav>
    <div class="d-flex">
      <div class="left-content-scroll">
        <div id="list-example" class="list-group border-radius-0">
          <form class="d-flex searchForm" role="search">
            <svg width="20" height="20" class="searchIcon" viewBox="0 0 20 20">
              <path
                d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z"
                stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
              </path>
            </svg>
            <input class="form-control sidebarSearch" type="search" placeholder="Search" aria-label="Search">
          </form>
          <div id="scrollspy">
            <div class="sidebarPadding sidebarMainText">
              GET STARTED
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="documentation.html">
                Introduction
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="quick-start.html">
                Quickstart
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="libraries.html">
                Libraries
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="models.html">
                Models
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="deprecations.html">
              Deprecations
            </a>
            <a class="sidebarListText sidebarSubListText" href="tutorials.html">
              Tutorials
            </a>
            <a class="sidebarListText sidebarSubListText" href="policies.html">
              Policies
            </a>
          </div>
          <div class="sectionTopSection">
            <div class="sidebarPadding sidebarMainText">
              Guides
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="GPT-Models.html">
                GPT
              </a>
            </div>
            <a class="sidebarListText sidebarSubListText" href="gpt-best-practices.html">
              GPT best practices
            </a>
            <div>
              <a class="sidebarListText sidebarSubListText" href="image-generation.html">
                Image generation
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="fine-tuning.html">
                Fine-tuning
              </a>
            </div>
            <div>
              <a class="sidebarListText sidebarSubListText" href="embeddings.html">
                Embeddings
              </a>              
            </div>
            <div>
              <a class="sidebarListText list-group-item active" href="speech-to-text.html">
                Speech to text
              </a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-1">
                Overview</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-2">
              Quickstart</a>
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-3">
              Supported languages</a>              
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-4">
              Longer inputs</a>              
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-5">
              Prompting</a>              
              <a class="list-group-item list-group-item-action sidebarSubListText tabSpace" 
              href="#list-item-6">
              Improving reliability</a>              
            </div>
            <a class="sidebarListText sidebarSubListText" href="moderation.html">
              moderation
            </a>
            <a class="sidebarListText sidebarSubListText" href="rate-limits.html">
              rate-limits
            </a>
            <a class="sidebarListText sidebarSubListText" href="error-codes.html">
              Error codes
            </a>
            <a class="sidebarListText sidebarSubListText" href="safety-best-practices.html">
              Safety best practices
            </a>
            <a class="sidebarListText sidebarSubListText" href="production-best-practices.html">
              Production best practices
            </a>
          </div>
          <div class="sectionTopSection">
            <div class="sidebarPadding sidebarMainText">
              Chat plugins
            </div>
            <a class="sidebarListText sidebarSubListText" href="plugins-introduction.html">
              Introduction
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-getting-started.html">
              Getting started
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-authentication.html">
              Authentication
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-examples.html">
              Examples
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-production.html">
              Production
            </a>
            <a class="sidebarListText sidebarSubListText" href="plugins-review.html">
              Plugin review
            </a>
            <div class="sidebarListText">
              Plugin policies
            </div>
          </div>
        </div>
      </div>
      <div class="right-content-scroll custom-right-content">
        <div class="custom-right-content-width">
          <div data-bs-spy="scroll" data-bs-target="#list-example" data-bs-smooth-scroll="true"
            class="scrollspy-example pt-4" tabindex="0">
          <div class="markdown-page markdown-content markdown-prompt-blockquote"><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/speech-to-text"><h1 class="anchor-heading" name="speech-to-text">Speech to text</h1></a></div><p>Learn how to turn audio into text</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/introduction">
            <div id="list-item-1"></div>
            <h2 class="anchor-heading" name="introduction">Introduction</h2>
          
          </a></div><p>The speech to text API provides two endpoints, <code>transcriptions</code> and <code>translations</code>, based on our state-of-the-art open source large-v2 <a href="https://qxlabai.com/blog/whisper/" target="_blank" rel="noopener noreferrer">Whisper model</a>. They can be used to:</p><ul><li>Transcribe audio into whatever language the audio is in.</li><li>Translate and transcribe the audio into english.</li></ul><p>File uploads are currently limited to 25 MB and the following input file types are supported: <code>mp3</code>, <code>mp4</code>, <code>mpeg</code>, <code>mpga</code>, <code>m4a</code>, <code>wav</code>, and <code>webm</code>.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/quickstart">
            <div id="list-item-2"></div>
            <h2 class="anchor-heading" name="quickstart">Quickstart</h2>
          </a></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/transcriptions"><h3 class="anchor-heading" name="transcriptions">Transcriptions</h3></a></div><p>The transcriptions API takes as input the audio file you want to transcribe and the desired output file format for the transcription of the audio. We currently support multiple input and output file formats.</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Transcribe audio</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option><option value="curl">curl</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span class=""><span class="hljs-comment"># Note: you need to be using QX LabAI Python v0.27.0 for the code below to work</span><span class="">
</span></span><span class=""><span class=""></span><span class="hljs-keyword">import</span><span class=""> QX LabAI
</span></span><span class=""><span class="">audio_file= </span><span class="hljs-built_in">open</span><span class="">(</span><span class="hljs-string">"/path/to/file/audio.mp3"</span><span class="">, </span><span class="hljs-string">"rb"</span><span class="">)
</span></span><span class=""><span class="">transcript = QX LabAI.Audio.transcribe(</span><span class="hljs-string">"whisper-1"</span><span class="">, audio_file)</span></span></code></pre></div></div><p>By default, the response type will be json with the raw text included.</p><div class="example-content example-content-large"><div class="example-content-value">{
  "text": "Imagine the wildest idea that you've ever had, and you're curious about how it might scale to something that's a 100, a 1,000 times bigger.
....
}</div></div><p>To set additional parameters in a request, you can add more <code>--form</code> lines with the relevant options. For example, if you want to set the output format as text, you would add the following line:</p><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral code-sample-copy-float copy-btn-top " type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-bash" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span class=""><span class="">...
</span></span><span class="">--form file=@QX LabAI.mp3 \
</span><span class="">--form model=whisper-1 \
</span><span class="">--form response_format=text</span></code></pre></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/translations"><h3 class="anchor-heading" name="translations">Translations</h3></a></div><p>The translations API takes as input the audio file in any of the supported languages and transcribes, if necessary, the audio into English. This differs from our /Transcriptions endpoint since the output is not in the original input language and is instead translated to English text.</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Translate audio</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option><option value="curl">curl</option></select><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div class="code-sample-copy"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span><span class="btn-label-inner">Copy&zwj;</span></span></button></div></div><div class="code-sample-body code-sample-body-small"><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><span class=""><span class="hljs-comment"># Note: you need to be using QX LabAI Python v0.27.0 for the code below to work</span><span class="">
</span></span><span class=""><span class=""></span><span class="hljs-keyword">import</span><span class=""> QX LabAI
</span></span><span class=""><span class="">audio_file= </span><span class="hljs-built_in">open</span><span class="">(</span><span class="hljs-string">"/path/to/file/german.mp3"</span><span class="">, </span><span class="hljs-string">"rb"</span><span class="">)
</span></span><span class=""><span class="">transcript = QX LabAI.Audio.translate(</span><span class="hljs-string">"whisper-1"</span><span class="">, audio_file)</span></span></code></pre></div></div><p>In this case, the inputted audio was german and the outputted text looks like:</p><div class="example-content example-content-large"><div class="example-content-value">Hello, my name is Wolfgang and I come from Germany. Where are you heading today?</div></div><p>We only support translation into english at this time.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/supported-languages">
  <div id="list-item-3"></div>
  <h2 class="anchor-heading" name="supported-languages">Supported languages</h2></a></div><p>We currently <a href="https://github.com/QX LabAI/whisper#available-models-and-languages" target="_blank" rel="noopener noreferrer">support the following languages</a> through both the <code>transcriptions</code> and <code>translations</code> endpoint:</p><p>Afrikaans, Arabic, Armenian, Azerbaijani, Belarusian, Bosnian, Bulgarian, Catalan, Chinese, Croatian, Czech, Danish, Dutch, English, Estonian, Finnish, French, Galician, German, Greek, Hebrew, Hindi, Hungarian, Icelandic, Indonesian, Italian, Japanese, Kannada, Kazakh, Korean, Latvian, Lithuanian, Macedonian, Malay, Marathi, Maori, Nepali, Norwegian, Persian, Polish, Portuguese, Romanian, Russian, Serbian, Slovak, Slovenian, Spanish, Swahili, Swedish, Tagalog, Tamil, Thai, Turkish, Ukrainian, Urdu, Vietnamese, and Welsh.</p><p>While the underlying model was trained on 98 languages, we only list the languages that exceeded &lt;50% <a href="https://en.wikipedia.org/wiki/Word_error_rate" target="_blank" rel="noopener noreferrer">word error rate</a> (WER) which is an industry standard benchmark for speech to text model accuracy. The model will return results for languages not listed above but the quality will be low.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/longer-inputs">
    <div id="list-item-4"></div>
    <h2 class="anchor-heading" name="longer-inputs">Longer inputs</h2></a></div><p>By default, the Whisper API only supports files that are less than 25 MB. If you have an audio file that is longer than that, you will need to break it up into chunks of 25 MB's or less or used a compressed audio format. To get the best performance, we suggest that you avoid breaking the audio up mid-sentence as this may cause some context to be lost.</p><p>One way to handle this is to use the <a href="https://github.com/jiaaro/pydub" target="_blank" rel="noopener noreferrer">PyDub open source Python package</a> to split the audio:</p><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral code-sample-copy-float copy-btn-top " type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span></code><span class=""><span class="hljs-keyword">from</span><span class=""> pydub </span><span class="hljs-keyword">import</span><span class=""> AudioSegment
</span></span><span class="">
</span><span class=""><span class="">song = AudioSegment.from_mp3(</span><span class="hljs-string">"good_morning.mp3"</span><span class="">)
</span></span><span class="">
</span><span class=""><span class=""></span><span class="hljs-comment"># PyDub handles time in milliseconds</span><span class="">
</span></span><span class=""><span class="">ten_minutes = </span><span class="hljs-number">10</span><span class=""> * </span><span class="hljs-number">60</span><span class=""> * </span><span class="hljs-number">1000</span><span class="">
</span></span><span class="">
</span><span class="">first_10_minutes = song[:ten_minutes]
</span><span class="">
</span><span class=""><span class="">first_10_minutes.export(</span><span class="hljs-string">"good_morning_10.mp3"</span><span class="">, </span><span class="hljs-built_in">format</span><span class="">=</span><span class="hljs-string">"mp3"</span><span class="">)</span></span></code></pre></div></div><p><em>QX LabAI makes no guarantees about the usability or security of 3rd party software like PyDub.</em></p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/prompting">
  <div id="list-item-5"></div>
  <h2 class="anchor-heading" name="prompting">Prompting</h2></a></div><p>You can use a <a href="/docs/api-reference/audio/create#audio/create-prompt">prompt</a> to improve the quality of the transcripts generated by the Whisper API. The model will try to match the style of the prompt, so it will be more likely to use capitalization and punctuation if the prompt does too. However, the current prompting system is much more limited than our other language models and only provides limited control over the generated audio. Here are some examples of how prompting can help in different scenarios:</p><ol><li>Prompts can be very helpful for correcting specific words or acronyms that the model often misrecognizes in the audio. For example, the following prompt improves the transcription of the words DALL·E and GPT-3, which were previously written as "GDP 3" and "DALI": "The transcript is about QX LabAI which makes technology like DALL·E, GPT-3, and Ask Qx with the hope of one day building an AGI system that benefits all of humanity"</li><li>To preserve the context of a file that was split into segments, you can prompt the model with the transcript of the preceding segment. This will make the transcript more accurate, as the model will use the relevant information from the previous audio. The model will only consider the final 224 tokens of the prompt and ignore anything earlier. For multilingual inputs, Whisper uses a custom tokenizer. For English only inputs, it uses the standard GPT-2 tokenizer which are both accessible through the open source <a href="https://github.com/QX LabAI/whisper/blob/main/whisper/tokenizer.py#L361" target="_blank" rel="noopener noreferrer">Whisper Python package</a>.</li><li>Sometimes the model might skip punctuation in the transcript. You can avoid this by using a simple prompt that includes punctuation: "Hello, welcome to my lecture."</li><li>The model may also leave out common filler words in the audio. If you want to keep the filler words in your transcript, you can use a prompt that contains them: "Umm, let me think like, hmm... Okay, here's what I'm, like, thinking."</li><li>Some languages can be written in different ways, such as simplified or traditional Chinese. The model might not always use the writing style that you want for your transcript by default. You can improve this by using a prompt in your preferred writing style.</li></ol><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/guides/speech-to-text/improving-reliability">
    <div id="list-item-6"></div>
  <h2 class="anchor-heading" name="improving-reliability">Improving reliability
    </h2></a></div><p>As we explored in the prompting section, one of the most common challenges faced when using Whisper is the model often does not recognize uncommon words or acronyms. To address this, we have highlighted different techniques which improve the reliability of Whisper in these cases:</p><div class="expn"><div class="expn-title" role="button" aria-expanded="false" aria-controls="expander-14">
    <div class="accordion" id="accordionPanelsStayOpenExample">
      <div class="accordion-item">
        <h2 class="accordion-header" id="panelsStayOpen-headingOne">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
            <div class="expn-label" style="font-size: 20px;font-weight: 700;">Using the prompt parameter</div>
          </button>
        </h2>
        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse " aria-labelledby="panelsStayOpen-headingOne">
          <div class="accordion-body">
            <div class="expn-content hidden" id="expander-14"><p>The first method involves using the optional prompt parameter to pass a dictionary of the correct spellings.</p><p>Since it wasn't trained using instruction-following techniques, Whisper operates more like a base GPT model. It's important to keep in mind that Whisper only considers the first 244 tokens of the prompt.</p><div class="code-sample code-sample-oneliner"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral code-sample-copy-float copy-btn-top " type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><span class=""><span class="">transcribe(filepath, prompt=</span><span class="hljs-string">"ZyntriQix, Digique Plus, CynapseFive, VortiQore V8, EchoNix Array, OrbitalLink Seven, DigiFractal Matrix, PULSE, RAPT, B.R.I.C.K., Q.U.A.R.T.Z., F.L.I.N.T."</span><span class="">)</span></span></code></pre></div></div><p>While it will increase reliability, this technique is limited to only 244 characters so your list of SKUs would need to be relatively small in order for this to be a scalable solution.</p>
              <div class="expn-collapse">
                <button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button">
                  <span class="btn-label-wrap">
                    <span class="btn-label-inner">Collapse&zwj;</span>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
            <div class="expn-label" style="font-size: 20px;font-weight: 700;">Post-processing with GPT-4</div>
          </button>
        </h2>
        <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
          <div class="accordion-body">
            <div class="expn-content hidden" id="expander-15">
              <p>The second method involves a post-processing step using GPT-4 or GPT-3.5-Turbo.</p>
              <p>We start by providing instructions for GPT-4 through the <code>system_prompt</code> variable. Similar to what we did with the prompt parameter earlier, we can define our company and product names.</p><div class="code-sample"><div class="code-sample-body code-sample-body-large"><button tabindex="0" class="btn btn-sm btn-minimal btn-neutral code-sample-copy-float copy-btn-top " type="button" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark code-sample-pre"><code class="language-python" style="white-space: pre;"><code><span class="react-syntax-highlighter-line-number">1
        </span><span class="react-syntax-highlighter-line-number">2
        </span><span class="react-syntax-highlighter-line-number">3
        </span><span class="react-syntax-highlighter-line-number">4
        </span><span class="react-syntax-highlighter-line-number">5
        </span><span class="react-syntax-highlighter-line-number">6
        </span><span class="react-syntax-highlighter-line-number">7
        </span><span class="react-syntax-highlighter-line-number">8
        </span><span class="react-syntax-highlighter-line-number">9
        </span><span class="react-syntax-highlighter-line-number">10
        </span><span class="react-syntax-highlighter-line-number">11
        </span><span class="react-syntax-highlighter-line-number">12
        </span><span class="react-syntax-highlighter-line-number">13
        </span><span class="react-syntax-highlighter-line-number">14
        </span><span class="react-syntax-highlighter-line-number">15
        </span><span class="react-syntax-highlighter-line-number">16
        </span><span class="react-syntax-highlighter-line-number">17
        </span><span class="react-syntax-highlighter-line-number">18
        </span><span class="react-syntax-highlighter-line-number">19
        </span><span class="react-syntax-highlighter-line-number">20
        </span></code><span class=""><span class="">system_prompt = </span><span class="hljs-string">"You are a helpful assistant for the company ZyntriQix. Your task is to correct any spelling discrepancies in the transcribed text. Make sure that the names of the following products are spelled correctly: ZyntriQix, Digique Plus, CynapseFive, VortiQore V8, EchoNix Array, OrbitalLink Seven, DigiFractal Matrix, PULSE, RAPT, B.R.I.C.K., Q.U.A.R.T.Z., F.L.I.N.T. Only add necessary punctuation such as periods, commas, and capitalization, and use only the context provided."</span><span class="">
        </span></span><span class="">
        </span><span class=""><span class=""></span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">generate_corrected_transcript</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">temperature, system_prompt, audio_file</span><span class="hljs-function">):</span><span class="">
        </span></span><span class="">    response = QX LabAI.ChatCompletion.create(
        </span><span class=""><span class="">        model=</span><span class="hljs-string">"gpt-4"</span><span class="">,
        </span></span><span class="">        temperature=temperature,
        </span><span class="">        messages=[
        </span><span class="">            {
        </span><span class=""><span class="">                </span><span class="hljs-string">"role"</span><span class="">: </span><span class="hljs-string">"system"</span><span class="">,
        </span></span><span class=""><span class="">                </span><span class="hljs-string">"content"</span><span class="">: system_prompt
        </span></span><span class="">            },
        </span><span class="">            {
        </span><span class=""><span class="">                </span><span class="hljs-string">"role"</span><span class="">: </span><span class="hljs-string">"user"</span><span class="">,
        </span></span><span class=""><span class="">                </span><span class="hljs-string">"content"</span><span class="">: transcribe(audio_file, </span><span class="hljs-string">""</span><span class="">)
        </span></span><span class="">            }
        </span><span class="">        ]
        </span><span class="">    )
        </span><span class=""><span class="">    </span><span class="hljs-keyword">return</span><span class=""> response[</span><span class="hljs-string">'choices'</span><span class="">][</span><span class="hljs-number">0</span><span class="">][</span><span class="hljs-string">'message'</span><span class="">][</span><span class="hljs-string">'content'</span><span class="">]
        </span></span><span class="">
        </span><span class=""><span class="">corrected_text = generate_corrected_transcript(</span><span class="hljs-number">0</span><span class="">, system_prompt, fake_company_filepath)</span></span></code></pre></div></div><p>If you try this on your own audio file, you can see that GPT-4 manages to correct many misspellings in the transcript. Due to its larger context window, this method might be more scalable than using Whisper's prompt parameter and is more reliable since GPT-4 can be instructed and guided in ways that aren't possible with Whisper given the lack of instruction following.</p><div class="expn-collapse"><button tabindex="0" class="btn btn-sm btn-filled btn-neutral" type="button"><span class="btn-label-wrap"><span class="btn-label-inner">Collapse&zwj;</span></span></button></div>
        </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"></script>
  </body>


</html>